{% extends 'base.html.twig' %}

{% block title %}{{ atelier.titre }} - √âcriture de Soie{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/styles.css') }}">
{% endblock %}

{% block body %}
        <a href="{{ path('app_ateliers') }}" type="submit" class="button">Retour</a>
    <h1>{{ atelier.titre }}</h1>

                <!-- Messages flash -->
    {% for message in app.flashes('success') %}
        <div>‚úì {{ message }}<button class="button">&times;</button></div>
    {% endfor %}

    <!-- Informations pratiques -->
    <section class="cards-container">
        <div class="card">
            <h5 class="titre">‚ÑπÔ∏è Informations pratiques</h5>

        <ul>
            {% if atelier.dateAtelier %}
                <p style="margin-bottom: 0.75rem;">
                    üìÖ <strong>Date :</strong> {{ atelier.dateAtelier|date('d/m/Y √† H:i') }}
                </p>
            {% endif %}

            {% if atelier.lieu %}
                <p style="margin-bottom: 0.75rem;">üìç <strong>Lieu :</strong> {{ atelier.lieu }}</p>
            {% endif %}

            {% if atelier.prix %}
                <p>üí∂ <strong>Prix :</strong> {{ atelier.prix }} ‚Ç¨</p>
            {% endif %}
        </ul>

        <br>

    <!-- Description -->
            {% if atelier.description %}
                <h6>üìÑ Description</h6>
                    <p style="margin-bottom: 0;">{{ atelier.description|nl2br }}</p>
            {% endif %}


                <!-- Informations compl√©mentaires -->
            {% if atelier.informations %}
                <h5 class="card">‚ùó Informations compl√©mentaires</h5>
                    <p style="margin-bottom: 0;">{{ atelier.informations|nl2br }}</p>
            {% endif %}
        </div>
    </section>

                <!-- Formulaire d'inscription -->
    <section class="cards-container">
        <div class="card">
            <h5 class="titre">‚úçÔ∏è Inscription</h5>
            {% if inscrit %}
        <!-- Message de confirmation apr√®s inscription -->
                <h5>‚úì Merci pour votre inscription !</h5>
                <p style="margin-bottom: 0;">Votre inscription a bien √©t√© enregistr√©e.</p>
            {% else %}
        <!-- Afficher le formulaire d'inscription -->
                {{ form_start(form) }}
                    <div class="form">
                        {{ form_label(form.name) }}
                        {{ form_widget(form.name) }}
                        {{ form_errors(form.name) }}
                    </div>
                    <div class="form">
                        {{ form_label(form.prenom) }}
                        {{ form_widget(form.prenom) }}
                        {{ form_errors(form.prenom) }}
                    </div>

                    <div class="form">
                        {{ form_label(form.email) }}
                        {{ form_widget(form.email) }}
                        {{ form_errors(form.email) }}
                    </div>

                    <div class="form">
                        {{ form_label(form.telephone) }}
                        {{ form_widget(form.telephone) }}
                        {{ form_errors(form.telephone) }}
                    </div>

                    <div class="form">
                        {{ form_label(form.moyenPaiement) }}
                        <div class="radio-group">
                        {{ form_widget(form.moyenPaiement) }}
                    </div>
                        {{ form_errors(form.moyenPaiement) }}
                    </div>

            {# Le lien HelloAsso, cach√© par d√©faut #}
            {% if atelier.lienHelloAsso %}
                <div id="helloasso-link" {# style="display: none;" #}>
                    <strong>Pour finaliser votre paiement par CB :</strong><br>
                    Apr√®s validation du formulaire, vous serez redirig√© vers HelloAsso pour effectuer le paiement.
                </div>
            {% endif %}

                <button type="submit" class="button">Valider</button>
                {{ form_end(form) }}
            {% endif %}
        </div>
    </section>
                <!-- Bouton retour -->


{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/scripts.js') }}"></script>

{% endblock %}
